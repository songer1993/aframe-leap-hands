{"dependencies":[{"name":"C:\\Users\\qison\\Google Drive\\projects\\aframe-leap-hands\\package.json","includedInParent":true,"mtime":1531087757970},{"name":"C:\\Users\\qison\\Google Drive\\projects\\aframe-leap-hands\\node_modules\\aframe-physics-system\\package.json","includedInParent":true,"mtime":499162500000},{"name":"cannon","loc":{"line":1,"column":21}},{"name":"./constants","loc":{"line":2,"column":24}},{"name":"./drivers/local-driver","loc":{"line":6,"column":26}},{"name":"./drivers/worker-driver","loc":{"line":7,"column":27}},{"name":"./drivers/network-driver","loc":{"line":8,"column":28}},{"name":"./drivers/ammo-driver","loc":{"line":9,"column":25}}],"generated":{"js":"var CANNON = require('cannon'),\n    CONSTANTS = require('./constants'),\n    C_GRAV = CONSTANTS.GRAVITY,\n    C_MAT = CONSTANTS.CONTACT_MATERIAL;\n\nvar LocalDriver = require('./drivers/local-driver'),\n    WorkerDriver = require('./drivers/worker-driver'),\n    NetworkDriver = require('./drivers/network-driver'),\n    AmmoDriver = require('./drivers/ammo-driver');\n\n/**\n * Physics system.\n */\nmodule.exports = AFRAME.registerSystem('physics', {\n  schema: {\n    // CANNON.js driver type\n    driver:                         { default: 'local', oneOf: ['local', 'worker', 'network', 'ammo'] },\n    networkUrl:                     { default: '', if: {driver: 'network'} },\n    workerFps:                      { default: 60, if: {driver: 'worker'} },\n    workerInterpolate:              { default: true, if: {driver: 'worker'} },\n    workerInterpBufferSize:         { default: 2, if: {driver: 'worker'} },\n    workerEngine:                   { default: 'cannon', if: {driver: 'worker'}, oneOf: ['cannon'] },\n    workerDebug:                    { default: false, if: {driver: 'worker'} },\n\n    gravity:                        { default: C_GRAV },\n    iterations:                     { default: CONSTANTS.ITERATIONS },\n    friction:                       { default: C_MAT.friction },\n    restitution:                    { default: C_MAT.restitution },\n    contactEquationStiffness:       { default: C_MAT.contactEquationStiffness },\n    contactEquationRelaxation:      { default: C_MAT.contactEquationRelaxation },\n    frictionEquationStiffness:      { default: C_MAT.frictionEquationStiffness },\n    frictionEquationRegularization: { default: C_MAT.frictionEquationRegularization },\n\n    // Never step more than four frames at once. Effectively pauses the scene\n    // when out of focus, and prevents weird \"jumps\" when focus returns.\n    maxInterval:                    { default: 4 / 60 },\n\n    // If true, show wireframes around physics bodies.\n    debug:                          { default: false },\n  },\n\n  /**\n   * Initializes the physics system.\n   */\n  init: function () {\n    var data = this.data;\n\n    // If true, show wireframes around physics bodies.\n    this.debug = data.debug;\n\n    this.callbacks = {beforeStep: [], step: [], afterStep: []};\n\n    this.listeners = {};\n\n    this.driver = null;\n    switch (data.driver) {\n      case 'local':\n        this.driver = new LocalDriver();\n        break;\n\n      case 'network':\n        this.driver = new NetworkDriver(data.networkUrl);\n        break;\n\n      case 'worker':\n        this.driver = new WorkerDriver({\n          fps: data.workerFps,\n          engine: data.workerEngine,\n          interpolate: data.workerInterpolate,\n          interpolationBufferSize: data.workerInterpBufferSize,\n          debug: data.workerDebug\n        });\n        break;\n\n      default:\n        throw new Error('[physics] Driver not recognized: \"%s\".', data.driver);\n    }\n\n    this.driver.init({\n      quatNormalizeSkip: 0,\n      quatNormalizeFast: false,\n      solverIterations: data.iterations,\n      gravity: data.gravity\n    });\n\n    this.driver.addMaterial({name: 'defaultMaterial'});\n    this.driver.addMaterial({name: 'staticMaterial'});\n    this.driver.addContactMaterial('defaultMaterial', 'defaultMaterial', {\n      friction: data.friction,\n      restitution: data.restitution,\n      contactEquationStiffness: data.contactEquationStiffness,\n      contactEquationRelaxation: data.contactEquationRelaxation,\n      frictionEquationStiffness: data.frictionEquationStiffness,\n      frictionEquationRegularization: data.frictionEquationRegularization\n    });\n    this.driver.addContactMaterial('staticMaterial', 'defaultMaterial', {\n      friction: 1.0,\n      restitution: 0.0,\n      contactEquationStiffness: data.contactEquationStiffness,\n      contactEquationRelaxation: data.contactEquationRelaxation,\n      frictionEquationStiffness: data.frictionEquationStiffness,\n      frictionEquationRegularization: data.frictionEquationRegularization\n    });\n  },\n\n  /**\n   * Updates the physics world on each tick of the A-Frame scene. It would be\n   * entirely possible to separate the two – updating physics more or less\n   * frequently than the scene – if greater precision or performance were\n   * necessary.\n   * @param  {number} t\n   * @param  {number} dt\n   */\n  tick: function (t, dt) {\n    if (!dt) return;\n\n    var i;\n    var callbacks = this.callbacks;\n\n    for (i = 0; i < this.callbacks.beforeStep.length; i++) {\n      this.callbacks.beforeStep[i].beforeStep(t, dt);\n    }\n\n    this.driver.step(Math.min(dt / 1000, this.data.maxInterval));\n\n    for (i = 0; i < callbacks.step.length; i++) {\n      callbacks.step[i].step(t, dt);\n    }\n\n    for (i = 0; i < callbacks.afterStep.length; i++) {\n      callbacks.afterStep[i].afterStep(t, dt);\n    }\n  },\n\n  /**\n   * Adds a body to the scene, and binds proxied methods to the driver.\n   * @param {CANNON.Body} body\n   */\n  addBody: function (body) {\n    var driver = this.driver;\n\n    body.__applyImpulse = body.applyImpulse;\n    body.applyImpulse = function () {\n      driver.applyBodyMethod(body, 'applyImpulse', arguments);\n    };\n\n    body.__applyForce = body.applyForce;\n    body.applyForce = function () {\n      driver.applyBodyMethod(body, 'applyForce', arguments);\n    };\n\n    body.updateProperties = function () {\n      driver.updateBodyProperties(body);\n    };\n\n    this.listeners[body.id] = function (e) { body.el.emit('collide', e); };\n    body.addEventListener('collide', this.listeners[body.id]);\n\n    this.driver.addBody(body);\n  },\n\n  /**\n   * Removes a body and its proxied methods.\n   * @param {CANNON.Body} body\n   */\n  removeBody: function (body) {\n    this.driver.removeBody(body);\n\n    body.removeEventListener('collide', this.listeners[body.id]);\n    delete this.listeners[body.id];\n\n    body.applyImpulse = body.__applyImpulse;\n    delete body.__applyImpulse;\n\n    body.applyForce = body.__applyForce;\n    delete body.__applyForce;\n\n    delete body.updateProperties;\n  },\n\n  /** @param {CANNON.Constraint} constraint */\n  addConstraint: function (constraint) {\n    if (!constraint.type) {\n      if (constraint instanceof CANNON.LockConstraint) {\n        constraint.type = 'LockConstraint';\n      } else if (constraint instanceof CANNON.DistanceConstraint) {\n        constraint.type = 'DistanceConstraint';\n      } else if (constraint instanceof CANNON.HingeConstraint) {\n        constraint.type = 'HingeConstraint';\n      } else if (constraint instanceof CANNON.ConeTwistConstraint) {\n        constraint.type = 'ConeTwistConstraint';\n      } else if (constraint instanceof CANNON.PointToPointConstraint) {\n        constraint.type = 'PointToPointConstraint';\n      }\n    }\n    this.driver.addConstraint(constraint);\n  },\n\n  /** @param {CANNON.Constraint} constraint */\n  removeConstraint: function (constraint) {\n    this.driver.removeConstraint(constraint);\n  },\n\n  /**\n   * Adds a component instance to the system and schedules its update methods to be called\n   * the given phase.\n   * @param {Component} component\n   * @param {string} phase\n   */\n  addComponent: function (component) {\n    var callbacks = this.callbacks;\n    if (component.beforeStep) callbacks.beforeStep.push(component);\n    if (component.step)       callbacks.step.push(component);\n    if (component.afterStep)  callbacks.afterStep.push(component);\n  },\n\n  /**\n   * Removes a component instance from the system.\n   * @param {Component} component\n   * @param {string} phase\n   */\n  removeComponent: function (component) {\n    var callbacks = this.callbacks;\n    if (component.beforeStep) {\n      callbacks.beforeStep.splice(callbacks.beforeStep.indexOf(component), 1);\n    }\n    if (component.step) {\n      callbacks.step.splice(callbacks.step.indexOf(component), 1);\n    }\n    if (component.afterStep) {\n      callbacks.afterStep.splice(callbacks.afterStep.indexOf(component), 1);\n    }\n  },\n\n  /** @return {Array<object>} */\n  getContacts: function () {\n    return this.driver.getContacts();\n  },\n\n  getMaterial: function (name) {\n    return this.driver.getMaterial(name);\n  }\n});\n","map":{"mappings":[{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":2,"column":0},"generated":{"line":2,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":3,"column":0},"generated":{"line":3,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":4,"column":0},"generated":{"line":4,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":5,"column":0},"generated":{"line":5,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":6,"column":0},"generated":{"line":6,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":7,"column":0},"generated":{"line":7,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":8,"column":0},"generated":{"line":8,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":9,"column":0},"generated":{"line":9,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":10,"column":0},"generated":{"line":10,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":11,"column":0},"generated":{"line":11,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":12,"column":0},"generated":{"line":12,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":13,"column":0},"generated":{"line":13,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":14,"column":0},"generated":{"line":14,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":15,"column":0},"generated":{"line":15,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":16,"column":0},"generated":{"line":16,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":17,"column":0},"generated":{"line":17,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":18,"column":0},"generated":{"line":18,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":19,"column":0},"generated":{"line":19,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":20,"column":0},"generated":{"line":20,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":21,"column":0},"generated":{"line":21,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":22,"column":0},"generated":{"line":22,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":23,"column":0},"generated":{"line":23,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":24,"column":0},"generated":{"line":24,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":25,"column":0},"generated":{"line":25,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":26,"column":0},"generated":{"line":26,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":27,"column":0},"generated":{"line":27,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":28,"column":0},"generated":{"line":28,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":29,"column":0},"generated":{"line":29,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":30,"column":0},"generated":{"line":30,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":31,"column":0},"generated":{"line":31,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":32,"column":0},"generated":{"line":32,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":33,"column":0},"generated":{"line":33,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":34,"column":0},"generated":{"line":34,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":35,"column":0},"generated":{"line":35,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":36,"column":0},"generated":{"line":36,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":37,"column":0},"generated":{"line":37,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":38,"column":0},"generated":{"line":38,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":39,"column":0},"generated":{"line":39,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":40,"column":0},"generated":{"line":40,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":41,"column":0},"generated":{"line":41,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":42,"column":0},"generated":{"line":42,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":43,"column":0},"generated":{"line":43,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":44,"column":0},"generated":{"line":44,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":45,"column":0},"generated":{"line":45,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":46,"column":0},"generated":{"line":46,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":47,"column":0},"generated":{"line":47,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":48,"column":0},"generated":{"line":48,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":49,"column":0},"generated":{"line":49,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":50,"column":0},"generated":{"line":50,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":51,"column":0},"generated":{"line":51,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":52,"column":0},"generated":{"line":52,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":53,"column":0},"generated":{"line":53,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":54,"column":0},"generated":{"line":54,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":55,"column":0},"generated":{"line":55,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":56,"column":0},"generated":{"line":56,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":57,"column":0},"generated":{"line":57,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":58,"column":0},"generated":{"line":58,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":59,"column":0},"generated":{"line":59,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":60,"column":0},"generated":{"line":60,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":61,"column":0},"generated":{"line":61,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":62,"column":0},"generated":{"line":62,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":63,"column":0},"generated":{"line":63,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":64,"column":0},"generated":{"line":64,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":65,"column":0},"generated":{"line":65,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":66,"column":0},"generated":{"line":66,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":67,"column":0},"generated":{"line":67,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":68,"column":0},"generated":{"line":68,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":69,"column":0},"generated":{"line":69,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":70,"column":0},"generated":{"line":70,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":71,"column":0},"generated":{"line":71,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":72,"column":0},"generated":{"line":72,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":73,"column":0},"generated":{"line":73,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":74,"column":0},"generated":{"line":74,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":75,"column":0},"generated":{"line":75,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":76,"column":0},"generated":{"line":76,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":77,"column":0},"generated":{"line":77,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":78,"column":0},"generated":{"line":78,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":79,"column":0},"generated":{"line":79,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":80,"column":0},"generated":{"line":80,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":81,"column":0},"generated":{"line":81,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":82,"column":0},"generated":{"line":82,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":83,"column":0},"generated":{"line":83,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":84,"column":0},"generated":{"line":84,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":85,"column":0},"generated":{"line":85,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":86,"column":0},"generated":{"line":86,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":87,"column":0},"generated":{"line":87,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":88,"column":0},"generated":{"line":88,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":89,"column":0},"generated":{"line":89,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":90,"column":0},"generated":{"line":90,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":91,"column":0},"generated":{"line":91,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":92,"column":0},"generated":{"line":92,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":93,"column":0},"generated":{"line":93,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":94,"column":0},"generated":{"line":94,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":95,"column":0},"generated":{"line":95,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":96,"column":0},"generated":{"line":96,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":97,"column":0},"generated":{"line":97,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":98,"column":0},"generated":{"line":98,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":99,"column":0},"generated":{"line":99,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":100,"column":0},"generated":{"line":100,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":101,"column":0},"generated":{"line":101,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":102,"column":0},"generated":{"line":102,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":103,"column":0},"generated":{"line":103,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":104,"column":0},"generated":{"line":104,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":105,"column":0},"generated":{"line":105,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":106,"column":0},"generated":{"line":106,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":107,"column":0},"generated":{"line":107,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":108,"column":0},"generated":{"line":108,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":109,"column":0},"generated":{"line":109,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":110,"column":0},"generated":{"line":110,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":111,"column":0},"generated":{"line":111,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":112,"column":0},"generated":{"line":112,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":113,"column":0},"generated":{"line":113,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":114,"column":0},"generated":{"line":114,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":115,"column":0},"generated":{"line":115,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":116,"column":0},"generated":{"line":116,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":117,"column":0},"generated":{"line":117,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":118,"column":0},"generated":{"line":118,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":119,"column":0},"generated":{"line":119,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":120,"column":0},"generated":{"line":120,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":121,"column":0},"generated":{"line":121,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":122,"column":0},"generated":{"line":122,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":123,"column":0},"generated":{"line":123,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":124,"column":0},"generated":{"line":124,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":125,"column":0},"generated":{"line":125,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":126,"column":0},"generated":{"line":126,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":127,"column":0},"generated":{"line":127,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":128,"column":0},"generated":{"line":128,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":129,"column":0},"generated":{"line":129,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":130,"column":0},"generated":{"line":130,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":131,"column":0},"generated":{"line":131,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":132,"column":0},"generated":{"line":132,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":133,"column":0},"generated":{"line":133,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":134,"column":0},"generated":{"line":134,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":135,"column":0},"generated":{"line":135,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":136,"column":0},"generated":{"line":136,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":137,"column":0},"generated":{"line":137,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":138,"column":0},"generated":{"line":138,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":139,"column":0},"generated":{"line":139,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":140,"column":0},"generated":{"line":140,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":141,"column":0},"generated":{"line":141,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":142,"column":0},"generated":{"line":142,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":143,"column":0},"generated":{"line":143,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":144,"column":0},"generated":{"line":144,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":145,"column":0},"generated":{"line":145,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":146,"column":0},"generated":{"line":146,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":147,"column":0},"generated":{"line":147,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":148,"column":0},"generated":{"line":148,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":149,"column":0},"generated":{"line":149,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":150,"column":0},"generated":{"line":150,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":151,"column":0},"generated":{"line":151,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":152,"column":0},"generated":{"line":152,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":153,"column":0},"generated":{"line":153,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":154,"column":0},"generated":{"line":154,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":155,"column":0},"generated":{"line":155,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":156,"column":0},"generated":{"line":156,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":157,"column":0},"generated":{"line":157,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":158,"column":0},"generated":{"line":158,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":159,"column":0},"generated":{"line":159,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":160,"column":0},"generated":{"line":160,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":161,"column":0},"generated":{"line":161,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":162,"column":0},"generated":{"line":162,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":163,"column":0},"generated":{"line":163,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":164,"column":0},"generated":{"line":164,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":165,"column":0},"generated":{"line":165,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":166,"column":0},"generated":{"line":166,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":167,"column":0},"generated":{"line":167,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":168,"column":0},"generated":{"line":168,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":169,"column":0},"generated":{"line":169,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":170,"column":0},"generated":{"line":170,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":171,"column":0},"generated":{"line":171,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":172,"column":0},"generated":{"line":172,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":173,"column":0},"generated":{"line":173,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":174,"column":0},"generated":{"line":174,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":175,"column":0},"generated":{"line":175,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":176,"column":0},"generated":{"line":176,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":177,"column":0},"generated":{"line":177,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":178,"column":0},"generated":{"line":178,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":179,"column":0},"generated":{"line":179,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":180,"column":0},"generated":{"line":180,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":181,"column":0},"generated":{"line":181,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":182,"column":0},"generated":{"line":182,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":183,"column":0},"generated":{"line":183,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":184,"column":0},"generated":{"line":184,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":185,"column":0},"generated":{"line":185,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":186,"column":0},"generated":{"line":186,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":187,"column":0},"generated":{"line":187,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":188,"column":0},"generated":{"line":188,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":189,"column":0},"generated":{"line":189,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":190,"column":0},"generated":{"line":190,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":191,"column":0},"generated":{"line":191,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":192,"column":0},"generated":{"line":192,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":193,"column":0},"generated":{"line":193,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":194,"column":0},"generated":{"line":194,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":195,"column":0},"generated":{"line":195,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":196,"column":0},"generated":{"line":196,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":197,"column":0},"generated":{"line":197,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":198,"column":0},"generated":{"line":198,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":199,"column":0},"generated":{"line":199,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":200,"column":0},"generated":{"line":200,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":201,"column":0},"generated":{"line":201,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":202,"column":0},"generated":{"line":202,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":203,"column":0},"generated":{"line":203,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":204,"column":0},"generated":{"line":204,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":205,"column":0},"generated":{"line":205,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":206,"column":0},"generated":{"line":206,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":207,"column":0},"generated":{"line":207,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":208,"column":0},"generated":{"line":208,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":209,"column":0},"generated":{"line":209,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":210,"column":0},"generated":{"line":210,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":211,"column":0},"generated":{"line":211,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":212,"column":0},"generated":{"line":212,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":213,"column":0},"generated":{"line":213,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":214,"column":0},"generated":{"line":214,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":215,"column":0},"generated":{"line":215,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":216,"column":0},"generated":{"line":216,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":217,"column":0},"generated":{"line":217,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":218,"column":0},"generated":{"line":218,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":219,"column":0},"generated":{"line":219,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":220,"column":0},"generated":{"line":220,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":221,"column":0},"generated":{"line":221,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":222,"column":0},"generated":{"line":222,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":223,"column":0},"generated":{"line":223,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":224,"column":0},"generated":{"line":224,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":225,"column":0},"generated":{"line":225,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":226,"column":0},"generated":{"line":226,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":227,"column":0},"generated":{"line":227,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":228,"column":0},"generated":{"line":228,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":229,"column":0},"generated":{"line":229,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":230,"column":0},"generated":{"line":230,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":231,"column":0},"generated":{"line":231,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":232,"column":0},"generated":{"line":232,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":233,"column":0},"generated":{"line":233,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":234,"column":0},"generated":{"line":234,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":235,"column":0},"generated":{"line":235,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":236,"column":0},"generated":{"line":236,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":237,"column":0},"generated":{"line":237,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":238,"column":0},"generated":{"line":238,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":239,"column":0},"generated":{"line":239,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":240,"column":0},"generated":{"line":240,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":241,"column":0},"generated":{"line":241,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":242,"column":0},"generated":{"line":242,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":243,"column":0},"generated":{"line":243,"column":0}},{"source":"node_modules\\aframe-physics-system\\src\\system.js","original":{"line":244,"column":0},"generated":{"line":244,"column":0}}],"sources":{"node_modules\\aframe-physics-system\\src\\system.js":"var CANNON = require('cannon'),\n    CONSTANTS = require('./constants'),\n    C_GRAV = CONSTANTS.GRAVITY,\n    C_MAT = CONSTANTS.CONTACT_MATERIAL;\n\nvar LocalDriver = require('./drivers/local-driver'),\n    WorkerDriver = require('./drivers/worker-driver'),\n    NetworkDriver = require('./drivers/network-driver'),\n    AmmoDriver = require('./drivers/ammo-driver');\n\n/**\n * Physics system.\n */\nmodule.exports = AFRAME.registerSystem('physics', {\n  schema: {\n    // CANNON.js driver type\n    driver:                         { default: 'local', oneOf: ['local', 'worker', 'network', 'ammo'] },\n    networkUrl:                     { default: '', if: {driver: 'network'} },\n    workerFps:                      { default: 60, if: {driver: 'worker'} },\n    workerInterpolate:              { default: true, if: {driver: 'worker'} },\n    workerInterpBufferSize:         { default: 2, if: {driver: 'worker'} },\n    workerEngine:                   { default: 'cannon', if: {driver: 'worker'}, oneOf: ['cannon'] },\n    workerDebug:                    { default: false, if: {driver: 'worker'} },\n\n    gravity:                        { default: C_GRAV },\n    iterations:                     { default: CONSTANTS.ITERATIONS },\n    friction:                       { default: C_MAT.friction },\n    restitution:                    { default: C_MAT.restitution },\n    contactEquationStiffness:       { default: C_MAT.contactEquationStiffness },\n    contactEquationRelaxation:      { default: C_MAT.contactEquationRelaxation },\n    frictionEquationStiffness:      { default: C_MAT.frictionEquationStiffness },\n    frictionEquationRegularization: { default: C_MAT.frictionEquationRegularization },\n\n    // Never step more than four frames at once. Effectively pauses the scene\n    // when out of focus, and prevents weird \"jumps\" when focus returns.\n    maxInterval:                    { default: 4 / 60 },\n\n    // If true, show wireframes around physics bodies.\n    debug:                          { default: false },\n  },\n\n  /**\n   * Initializes the physics system.\n   */\n  init: function () {\n    var data = this.data;\n\n    // If true, show wireframes around physics bodies.\n    this.debug = data.debug;\n\n    this.callbacks = {beforeStep: [], step: [], afterStep: []};\n\n    this.listeners = {};\n\n    this.driver = null;\n    switch (data.driver) {\n      case 'local':\n        this.driver = new LocalDriver();\n        break;\n\n      case 'network':\n        this.driver = new NetworkDriver(data.networkUrl);\n        break;\n\n      case 'worker':\n        this.driver = new WorkerDriver({\n          fps: data.workerFps,\n          engine: data.workerEngine,\n          interpolate: data.workerInterpolate,\n          interpolationBufferSize: data.workerInterpBufferSize,\n          debug: data.workerDebug\n        });\n        break;\n\n      default:\n        throw new Error('[physics] Driver not recognized: \"%s\".', data.driver);\n    }\n\n    this.driver.init({\n      quatNormalizeSkip: 0,\n      quatNormalizeFast: false,\n      solverIterations: data.iterations,\n      gravity: data.gravity\n    });\n\n    this.driver.addMaterial({name: 'defaultMaterial'});\n    this.driver.addMaterial({name: 'staticMaterial'});\n    this.driver.addContactMaterial('defaultMaterial', 'defaultMaterial', {\n      friction: data.friction,\n      restitution: data.restitution,\n      contactEquationStiffness: data.contactEquationStiffness,\n      contactEquationRelaxation: data.contactEquationRelaxation,\n      frictionEquationStiffness: data.frictionEquationStiffness,\n      frictionEquationRegularization: data.frictionEquationRegularization\n    });\n    this.driver.addContactMaterial('staticMaterial', 'defaultMaterial', {\n      friction: 1.0,\n      restitution: 0.0,\n      contactEquationStiffness: data.contactEquationStiffness,\n      contactEquationRelaxation: data.contactEquationRelaxation,\n      frictionEquationStiffness: data.frictionEquationStiffness,\n      frictionEquationRegularization: data.frictionEquationRegularization\n    });\n  },\n\n  /**\n   * Updates the physics world on each tick of the A-Frame scene. It would be\n   * entirely possible to separate the two – updating physics more or less\n   * frequently than the scene – if greater precision or performance were\n   * necessary.\n   * @param  {number} t\n   * @param  {number} dt\n   */\n  tick: function (t, dt) {\n    if (!dt) return;\n\n    var i;\n    var callbacks = this.callbacks;\n\n    for (i = 0; i < this.callbacks.beforeStep.length; i++) {\n      this.callbacks.beforeStep[i].beforeStep(t, dt);\n    }\n\n    this.driver.step(Math.min(dt / 1000, this.data.maxInterval));\n\n    for (i = 0; i < callbacks.step.length; i++) {\n      callbacks.step[i].step(t, dt);\n    }\n\n    for (i = 0; i < callbacks.afterStep.length; i++) {\n      callbacks.afterStep[i].afterStep(t, dt);\n    }\n  },\n\n  /**\n   * Adds a body to the scene, and binds proxied methods to the driver.\n   * @param {CANNON.Body} body\n   */\n  addBody: function (body) {\n    var driver = this.driver;\n\n    body.__applyImpulse = body.applyImpulse;\n    body.applyImpulse = function () {\n      driver.applyBodyMethod(body, 'applyImpulse', arguments);\n    };\n\n    body.__applyForce = body.applyForce;\n    body.applyForce = function () {\n      driver.applyBodyMethod(body, 'applyForce', arguments);\n    };\n\n    body.updateProperties = function () {\n      driver.updateBodyProperties(body);\n    };\n\n    this.listeners[body.id] = function (e) { body.el.emit('collide', e); };\n    body.addEventListener('collide', this.listeners[body.id]);\n\n    this.driver.addBody(body);\n  },\n\n  /**\n   * Removes a body and its proxied methods.\n   * @param {CANNON.Body} body\n   */\n  removeBody: function (body) {\n    this.driver.removeBody(body);\n\n    body.removeEventListener('collide', this.listeners[body.id]);\n    delete this.listeners[body.id];\n\n    body.applyImpulse = body.__applyImpulse;\n    delete body.__applyImpulse;\n\n    body.applyForce = body.__applyForce;\n    delete body.__applyForce;\n\n    delete body.updateProperties;\n  },\n\n  /** @param {CANNON.Constraint} constraint */\n  addConstraint: function (constraint) {\n    if (!constraint.type) {\n      if (constraint instanceof CANNON.LockConstraint) {\n        constraint.type = 'LockConstraint';\n      } else if (constraint instanceof CANNON.DistanceConstraint) {\n        constraint.type = 'DistanceConstraint';\n      } else if (constraint instanceof CANNON.HingeConstraint) {\n        constraint.type = 'HingeConstraint';\n      } else if (constraint instanceof CANNON.ConeTwistConstraint) {\n        constraint.type = 'ConeTwistConstraint';\n      } else if (constraint instanceof CANNON.PointToPointConstraint) {\n        constraint.type = 'PointToPointConstraint';\n      }\n    }\n    this.driver.addConstraint(constraint);\n  },\n\n  /** @param {CANNON.Constraint} constraint */\n  removeConstraint: function (constraint) {\n    this.driver.removeConstraint(constraint);\n  },\n\n  /**\n   * Adds a component instance to the system and schedules its update methods to be called\n   * the given phase.\n   * @param {Component} component\n   * @param {string} phase\n   */\n  addComponent: function (component) {\n    var callbacks = this.callbacks;\n    if (component.beforeStep) callbacks.beforeStep.push(component);\n    if (component.step)       callbacks.step.push(component);\n    if (component.afterStep)  callbacks.afterStep.push(component);\n  },\n\n  /**\n   * Removes a component instance from the system.\n   * @param {Component} component\n   * @param {string} phase\n   */\n  removeComponent: function (component) {\n    var callbacks = this.callbacks;\n    if (component.beforeStep) {\n      callbacks.beforeStep.splice(callbacks.beforeStep.indexOf(component), 1);\n    }\n    if (component.step) {\n      callbacks.step.splice(callbacks.step.indexOf(component), 1);\n    }\n    if (component.afterStep) {\n      callbacks.afterStep.splice(callbacks.afterStep.indexOf(component), 1);\n    }\n  },\n\n  /** @return {Array<object>} */\n  getContacts: function () {\n    return this.driver.getContacts();\n  },\n\n  getMaterial: function (name) {\n    return this.driver.getMaterial(name);\n  }\n});\n"},"lineCount":244}},"hash":"a485ad95efd861c7a09fafd0d73ecf96","cacheData":{"env":{}}}